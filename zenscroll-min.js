!function(a,b){"function"==typeof define&&define.amd?define([],b()):"object"==typeof module&&module.exports?module.exports=b():a.zenscroll=b()}(this,function(){"use strict";if("undefined"==typeof window||!("document"in window))return{};var a=function(a,b,c){b=b||999,c||0===c||(c=9);var d,e=document.documentElement,f=function(){return"getComputedStyle"in window&&"smooth"===window.getComputedStyle(a?a:document.body)["scroll-behavior"]},g=function(){return a?a.scrollTop:window.scrollY||e.scrollTop},h=function(){return a?Math.min(a.offsetHeight,window.innerHeight):window.innerHeight||e.clientHeight},i=function(b){return a?b.offsetTop:b.getBoundingClientRect().top+g()-e.offsetTop},j=function(){clearTimeout(d),d=0},k=function(c,i,k){if(j(),f())(a||window).scrollTo(0,c),k&&k();else{var l=g(),m=Math.max(c,0)-l;i=i||Math.min(Math.abs(m),b);var n=(new Date).getTime();!function b(){d=setTimeout(function(){var c=Math.min(((new Date).getTime()-n)/i,1),d=Math.max(Math.floor(l+m*(c<.5?2*c*c:c*(4-2*c)-1)),0);a?a.scrollTop=d:window.scrollTo(0,d),c<1&&h()+d<(a||e).scrollHeight?b():(setTimeout(j,99),k&&k())},9)}()}},l=function(a,b,d){k(i(a)-c,b,d)},m=function(a,b,d){var e=a.getBoundingClientRect().height,f=i(a),j=f+e,m=h(),n=g(),o=n+m;f-c<n||e+c>m?l(a,b,d):j+c>o?k(j-m+c,b,d):d&&d()},n=function(a,b,c,d){k(Math.max(i(a)-h()/2+(c||a.getBoundingClientRect().height/2),0),b,d)},o=function(a,d){a&&(b=a),(0===d||d)&&(c=d)};return{setup:o,to:l,toY:k,intoView:m,center:n,stop:j,moving:function(){return!!d}}},b=a();if("addEventListener"in window&&"smooth"!==document.body.style.scrollBehavior&&!window.noZensmooth){var c=function(a){try{history.replaceState({},"",window.location.href.split("#")[0]+a)}catch(a){}};window.addEventListener("click",function(a){for(var d=a.target;d&&"A"!==d.tagName;)d=d.parentNode;if(!(!d||1!==a.which||a.shiftKey||a.metaKey||a.ctrlKey||a.altKey)){var e=d.getAttribute("href")||"";if(0===e.indexOf("#"))if("#"===e)a.preventDefault(),b.toY(0),c("");else{var f=d.hash.substring(1),g=document.getElementById(f);g&&(a.preventDefault(),b.to(g),c("#"+f))}}},!1)}return{createScroller:a,setup:b.setup,to:b.to,toY:b.toY,intoView:b.intoView,center:b.center,stop:b.stop,moving:b.moving}});